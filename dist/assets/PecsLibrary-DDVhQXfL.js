var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{r as n,j as c}from"./ui-TGZcG2us.js";import{p as d}from"./siteData-bPMxnzhu.js";import{u as o}from"./i18n-CEt-f-Oq.js";import{i as m,V as x}from"./icons-CGc_vNo5.js";import"./vendor-DholdlZV.js";const p=({card:e,onCardClick:t})=>{const{i18n:s}=o(),[a,r]=n.useState(!1),l=()=>e[s.language]||e.ru;return c.jsxs("div",{className:"pecs-card group",onClick:()=>t&&t(e),children:[c.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-green-400 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white text-2xl font-bold",children:l().charAt(0)})})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"font-medium text-lg mb-2 text-high-contrast",children:l()}),c.jsxs("button",{onClick:e=>{e.stopPropagation(),r(!0),setTimeout(()=>r(!1),1e3)},className:"btn-secondary text-sm flex items-center justify-center space-x-1 mx-auto "+(a?"opacity-50":""),disabled:a,children:[c.jsx(x,{className:"w-4 h-4"}),c.jsx("span",{children:a?"üîä":"üîà"})]})]})]})},u=()=>{const{t:e}=o(),[x,u]=n.useState("all"),[b,h]=n.useState(""),[g,j]=n.useState([]),f=e=>{j(t=>t.find(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])},y=()=>{let e=[];return d.forEach(n=>{"all"!==x&&x!==n.id||(e=[...e,...n.cards.map(e=>{return c=((e,t)=>{for(var s in t||(t={}))r.call(t,s)&&i(e,s,t[s]);if(a)for(var s of a(t))l.call(t,s)&&i(e,s,t[s]);return e})({},e),d={categoryId:n.id},t(c,s(d));var c,d})])}),b&&(e=e.filter(e=>Object.values(e).some(e=>"string"==typeof e&&e.toLowerCase().includes(b.toLowerCase())))),e};return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-high-contrast mb-4",children:e("pecsLibrary_title")}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:e("search_placeholder"),value:b,onChange:e=>h(e.target.value),className:"input-autism-friendly pl-10"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[c.jsx("button",{onClick:()=>u("all"),className:"btn-autism-friendly "+("all"===x?"btn-primary":"btn-secondary"),children:"–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"}),d.map(t=>c.jsx("button",{onClick:()=>u(t.id),className:"btn-autism-friendly "+(x===t.id?"btn-primary":"btn-secondary"),children:e(t.name)},t.id))]}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[c.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:["–í—ã–±—Ä–∞–Ω–æ –∫–∞—Ä—Ç–æ—á–µ–∫: ",g.length]}),c.jsx("button",{onClick:()=>j([]),className:"btn-secondary mt-2",children:"–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä"})]})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:y().map(e=>c.jsx(p,{card:e,onCardClick:f},`${e.categoryId}-${e.id}`))}),0===y().length&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500 text-lg",children:"–ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é."})})]})};export{u as default};

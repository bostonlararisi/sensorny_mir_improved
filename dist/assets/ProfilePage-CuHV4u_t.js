import{r as e,j as s}from"./ui-TGZcG2us.js";import{u as r}from"./index-RkbpfU_V.js";import{c as t}from"./siteData-bPMxnzhu.js";import{u as a}from"./i18n-CEt-f-Oq.js";import{U as l,j as d,n as x,L as i,B as n,C as c,o as m}from"./icons-CGc_vNo5.js";import"./vendor-DholdlZV.js";import"./router-J9d5hOrj.js";const o=()=>{const{t:o}=a(),{user:h,logout:g,getCourseProgress:b}=r(),[u,j]=e.useState("overview");if(!h)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Необходима авторизация"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Пожалуйста, войдите в систему для просмотра профиля"})]})});const p=t.reduce((e,s)=>e+s.lessons.length,0),y=t.reduce((e,s)=>e+b(s.id).completed,0),N=p>0?Math.round(y/p*100):0;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx(l,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.name}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center",children:[s.jsx(d,{className:"w-4 h-4 mr-2"}),h.email]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 flex items-center mt-1",children:[s.jsx(x,{className:"w-4 h-4 mr-2"}),"Зарегистрирован: ",new Date(h.createdAt).toLocaleDateString("ru-RU")]})]})]}),s.jsxs("button",{onClick:()=>{g()},className:"flex items-center space-x-2 px-4 py-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors",children:[s.jsx(i,{className:"w-4 h-4"}),s.jsx("span",{children:"Выйти"})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg mb-8",children:[s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"flex space-x-8 px-6",children:[s.jsx("button",{onClick:()=>j("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("overview"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Обзор"}),s.jsx("button",{onClick:()=>j("progress"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("progress"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Прогресс"}),s.jsx("button",{onClick:()=>j("settings"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("settings"===u?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Настройки"})]})}),s.jsxs("div",{className:"p-6",children:["overview"===u&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(n,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Всего уроков"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:p})]})]})}),s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(c,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Завершено"}),s.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:y})]})]})}),s.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(m,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Прогресс"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:[N,"%"]})]})]})})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Общий прогресс обучения"}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[y," из ",p]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]})]}),"progress"===u&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Прогресс по курсам"}),s.jsx("div",{className:"space-y-4",children:t.map(e=>{const r=b(e.id),t=e.lessons.length>0?Math.round(r.completed/e.lessons.length*100):0;return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.completed," из ",e.lessons.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${t}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[t,"% завершено"]})]},e.id)})})]}),"settings"===u&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Настройки аккаунта"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Информация профиля"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Имя:"})," ",h.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",h.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Роль:"})," ","admin"===h.role?"Администратор":"Пользователь"]})]})]}),s.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Действия"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Изменить пароль"}),s.jsx("br",{}),s.jsx("button",{className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-sm",children:"Удалить аккаунт"})]})]})]})]})]})]})]})})};export{o as default};

var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(r,s,a)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a;import{r as n,j as i}from"./ui-TGZcG2us.js";import{u as c}from"./index-RkbpfU_V.js";import{u as d}from"./i18n-CEt-f-Oq.js";import{U as m,j as u,k as x,E as p,l as h,m as b}from"./icons-CGc_vNo5.js";import{c as g,L as y}from"./router-J9d5hOrj.js";import"./vendor-DholdlZV.js";const f=()=>{const{t:e}=d(),f=g(),{register:j}=c(),[v,w]=n.useState({name:"",email:"",password:"",confirmPassword:""}),[N,k]=n.useState(!1),[P,C]=n.useState(!1),[O,S]=n.useState(!1),[q,z]=n.useState(""),E=e=>{const{name:n,value:i}=e.target;w(e=>{return c=((e,r)=>{for(var s in r||(r={}))t.call(r,s)&&o(e,s,r[s]);if(a)for(var s of a(r))l.call(r,s)&&o(e,s,r[s]);return e})({},e),r(c,s({[n]:i}));var c}),q&&z("")};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Создать аккаунт"}),i.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Или"," ",i.jsx(y,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"войдите в существующий аккаунт"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:e=>{return r=null,s=null,a=function*(){if(e.preventDefault(),S(!0),z(""),!(v.name&&v.email&&v.password&&v.confirmPassword))return z("Пожалуйста, заполните все поля"),void S(!1);if(v.password!==v.confirmPassword)return z("Пароли не совпадают"),void S(!1);if(v.password.length<6)return z("Пароль должен содержать минимум 6 символов"),void S(!1);const r=yield j(v.name,v.email,v.password);r.success?f("/"):z(r.error||"Ошибка регистрации"),S(!1)},new Promise((t,l)=>{var o=r=>{try{i(a.next(r))}catch(e){l(e)}},n=r=>{try{i(a.throw(r))}catch(e){l(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,n);i((a=a.apply(r,s)).next())});var r,s,a},children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"sr-only",children:"Имя"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(m,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:v.name,onChange:E,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Ваше имя"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email адрес"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(u,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:v.email,onChange:E,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email адрес"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Пароль"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(x,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:N?"text":"password",autoComplete:"new-password",required:!0,value:v.password,onChange:E,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Пароль"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>k(!N),children:N?i.jsx(p,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):i.jsx(h,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Подтвердите пароль"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(x,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:P?"text":"password",autoComplete:"new-password",required:!0,value:v.confirmPassword,onChange:E,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Подтвердите пароль"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>C(!P),children:P?i.jsx(p,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):i.jsx(h,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),q&&i.jsxs("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400 text-sm",children:[i.jsx(b,{className:"h-4 w-4"}),i.jsx("span",{children:q})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:O,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:O?"Создание аккаунта...":"Создать аккаунт"})}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Создавая аккаунт, вы соглашаетесь с нашими"," ",i.jsx(y,{to:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Условиями использования"})," ","и"," ",i.jsx(y,{to:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"Политикой конфиденциальности"})]})]})]})})};export{f as default};
